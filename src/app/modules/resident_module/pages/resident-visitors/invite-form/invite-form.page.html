<ion-content [fullscreen]="true">
	<app-resident-header [text]="'Visitors'" [text_second]="'Daily Invite'" />
	<!-- CONTENT -->
	<div class="flex flex-col relative mt-2 mx-4 mb-20">
		<ion-button class="flex flex-row justify-center items-center w-full icon" fill="clear" [routerLink]="['/resident-visitors']">
		  <div class="flex flex-col items-center text-black">
			<ion-icon name="arrow-back"></ion-icon>
		  </div>
		</ion-button>
	
		<div class="flex flex-col mt-2">
		  <p class="text-base font-bold">Invitation List</p>
		  
		  <div *ngIf="!isFormInitialized" class="text-center text-gray-500 mt-4 dark:text-[white]">
			Push "Add Invitee" for add form or shoose to add from history
		  </div>

		  <div id="form" *ngIf="shouldShowForm()">
			<div *ngFor="let invitee of inviteeFormList; let i = index" class="mb-4">
			  <div class="w-full flex justify-between flex-row mt-4">
				<div class="w-11/12">
					<div class="flex flex-row justify-start mt-4">
						<p class="text-base font-bold">Entry Name</p>
					</div>
					<input 
						[id]="'invf_name_' + i" 
						name="name_{{i}}"
						placeholder="Name" 
						class="border w-full rounded py-2 px-3 outline-[#BDBDBD] h-12 mt-1 text-base"
						[(ngModel)]="inviteeFormList[i].name"
						required
					/>
				</div>
				<ion-icon class="text-[42px] text-green-900 mt-[51px] mr-2 ml-3 items-end" name="person-add"></ion-icon>
				
			  </div>
			  <div class="w-full flex flex-row justify-between space-x-2">
				<div>
					<div class="flex flex-row justify-start mt-4">
						<p class="text-base font-bold">Entry Mobile Number</p>
					</div>
					<input 
					  [id]="'invf_phone_' + i" 
					  name="phone_{{i}}"
					  placeholder="Mobile Number" 
					  class="border w-full rounded py-2 px-3 outline-[#BDBDBD] h-12 mt-1 text-base"
					  [(ngModel)]="inviteeFormList[i].mobile_number"
					  required>
				</div>
				<div>
					<div class="flex flex-row justify-start mt-4">
						<p class="text-base font-bold">Entry Vehicle Number</p>
					</div>
					<input 
					  [id]="'invf_plate_' + i" 
					  name="plate_{{i}}"
					  placeholder="Vehicle Number" 
					  class="border w-full rounded py-2 px-3 outline-[#BDBDBD] h-12 mt-1 text-base"
					  [(ngModel)]="inviteeFormList[i].car_number"
					  required>
				</div>
			  </div>
			</div>
		  </div>
		  
		  <div class="flex flex-row justify-end mt-4">
			<u class="text-[14px] font-bold cursor-pointer" (click)="addInvitee()">{{ addInviteeText }}</u>
		  </div>
		  <div class="flex flex-row justify-end mt-4">
			<u 
			  class="text-[14px] font-bold cursor-pointer" 
			  (click)="navigateToInviteFormHistory()">
			  Add From History List
			</u>
		  </div>
		  <div class="flex flex-row mt-4 text-[12px] w-full">
			<div class="w-full">
			  <app-visitor-button 
				[text]="'Send Invitation'" 
				[extraClass]="'bg-[var(--ion-color-primary)] text-white mt-1 w-full text-base'"
				(click)="onSubmit()">
			  </app-visitor-button>
			</div>
		  </div>
		</div>
	  </div>
	<!-- ############################### -->
	  <app-bottom-nav-bar></app-bottom-nav-bar>
</ion-content>